<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codnut Vue3 web component Sample</title>
  </head>
  <body>
    <script src="./vue-aidt-book.umd.cjs"></script>
    <script>
      window.addEventListener('load',() => {
        const test1 = new CustomEvent('notify-ret-id-engtemp',{
          detail: {
            ret_id: 12695,
            textbkTabId: 5059
          }
        })
        const test2 = new CustomEvent('update-userdata',{
          detail: {
            "class_user": [
              {
                "user_id": "5961",
                "user_name": "men1tmp22-s1"
              },
              {
                "user_id": "5962",
                "user_name": "men1tmp22-s2"
              },
              {
                "user_id": "5963",
                "user_name": "men1tmp22-s3"
              },
              {
                "user_id": "5964",
                "user_name": "men1tmp22-s4"
              },
              {
                "user_id": "5965",
                "user_name": "men1tmp22-s5"
              }
            ],
            "alive_user": [
              {
                "user_id": 5961,
                "user_uid": "men1tmp22-s1",
                "user_name": "김미영"
              },
              {
                "user_id": 5963,
                "user_uid": "men1tmp22-s3",
                "user_name": "노진구"
              },
            ]
          },
        })

        const test3 = new CustomEvent('receive-crcu-list',{
          detail: {
            "success": true,
            "resultMessage": "커리큘럼 목록 조회",
            "resultCode": 200,
            "paramData": {
              "userId": "550e8400-e29b-41d4-a716-446655440000",
              "textbkId": "1",
              "textbkIdxId": "1",
              "claId": "0cc175b9c0f1b6a831c399e269772661"
            },
            "resultData": {
              "pdfUrl": null,
              "textbkId": 1,
              "textbkName": "교과서  - 교수용",
              "curriculumList": [
                {
                  "id": 1,
                  "userId": "550e8400-e29b-41d4-a716-446655440000",
                  "wrterId": "550e8400-e29b-41d4-a716-446655440000",
                  "claId": "0cc175b9c0f1b6a831c399e269772661",
                  "textbkId": 1,
                  "textbkIdxId": 1,
                  "order": 1,
                  "key": 1,
                  "parent": 0,
                  "depth": 1,
                  "page": null,
                  "text": "Ⅰ지수함수와 로그함수",
                  "useAt": "Y",
                  "delAt": "N",
                  "addconAt": "Y",
                  "curriUnit1": null,
                  "curriUnit2": null,
                  "curriUnit3": null,
                  "curriUnit4": null,
                  "curriUnit5": null,
                  "lastPosition": false,
                  "rgtr": null,
                  "regDt": null,
                  "mdfr": null,
                  "mdfyDt": null,
                  "crculId": null,
                  "textbookTabList": null
                },
                {
                  "id": 2,
                  "userId": "550e8400-e29b-41d4-a716-446655440000",
                  "wrterId": "550e8400-e29b-41d4-a716-446655440000",
                  "claId": "0cc175b9c0f1b6a831c399e269772661",
                  "textbkId": 1,
                  "textbkIdxId": 1,
                  "order": 2,
                  "key": 4,
                  "parent": 1,
                  "depth": 2,
                  "page": null,
                  "text": "1. 지수와 로그",
                  "useAt": "Y",
                }
              ]
            }
          }
        })

        setTimeout(() => {
          const s= document.querySelectorAll('vue-aidt-book')
          s.forEach((v, i) => {
            v.dispatchEvent(test1)
            v.dispatchEvent(test2)
            v.dispatchEvent(test3)
          })
        },1000)
      })
    </script>
    <div id="viewer_container">
      <!-- <iframe id="st" src="./student.html" width="600" height="400" frameborder="0"></iframe> -->
      <vue-aidt-book
        template_category="LC"
        template_id="17,18"
        module_id="105"
        viewer_type="teacher"
        cms_domain="https://t-cmsapi.vsaidt.com"
        file_domain="https://t-cms.vsaidt.com"
        lms_domain="https://t-vcloudapi.aidtclass.com"
      ></vue-aidt-book>
    </div>
      <style>
        #loading {
          position: fixed;
          z-indeX: 9999;
          background: rgba(0,0,0,0.4);
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          color: white;
          font-size: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        #viewer_container {
          display: flex;
          gap: 10px;
          flex-direction: column;
        }
        iframe {
          width: 100%;
          height: 946px;
        }
      </style>
  </body>
</html>
